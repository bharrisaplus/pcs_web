# yaml-language-server: $schema=https://taskfile.dev/schema.json

# Tasks are expected to be called from the project root or via the main Taskfile

version: '3'

tasks:
  rear-presentation:
    internal: true
    desc: Stlus to CSS
    cmds:
      - pnpm stylus {{.PRESENTATION_DIR}}/demo.styl -o {{.DEMO_DIR}}/main.css
  rear-content:
    internal: true
    desc: Pug to HTML
    cmds:
      - pnpm pug {{.CONTENT_DIR}}/demo.pug -o {{.DEMO_DIR}}
  rear-behavior:
    internal: true
    desc: JS
    cmds:
      -  pnpm rollup -c {{.PROJECT_DIR}}/rollup.config.mjs
  sweep-content:
    desc: Remove generated files
    cmds:
      - rm -f {{.DEMO_DIR}}/demo.html
  sweep-presentation:
    internal: true
    desc: Remove generated files
    cmds:
      - rm -f {{.DEMO_DIR}}/main.css
  sweep-behavior:
    internal: true
    desc: Remove generated files
    cmds:
      - rm -f {{.DEMO_DIR}}/main.{js,js.map,mjs}
