!function(){"use strict";var e,t,n;e=window,t=document,n=html2canvas,e.onload=o=>{const a=t.querySelector(".closeup .turntable-container"),l=a.querySelector(".turntable"),r=l.querySelector(".turntable-pickup"),d=l.querySelector(".turntable-close"),s=l.querySelector(".turntable-cue-lever-regression"),c=l.querySelector(".turntable-cue-lever-progression"),i=[],u=r.className,p=t.querySelectorAll(".closeup .pad li"),b=document.querySelector(".export button"),h=(e,t)=>{const n=e.target;if(n){const e=`${0==t?"":"-"}${t}deg`;n.style.rotate!=e&&(n.style.rotate=e)}},g=e=>{a.matches(":popover-open")&&(r.textContent="",r.className=u,a.hidePopover(),c.disabled=!1,s.disabled=!1,b.disabled=!1)},m=e=>{if(!a.matches(":popover-open")){const t=e.target;if(t&&t.textContent!=r.textContent){const e=i.indexOf(t.textContent);e>-1&&(r.textContent=t.textContent,r.className=`${u} ${t.dataset.suite} playing-card`,0==e?s.disabled=!0:e==i.length-1&&(c.disabled=!0),b.disabled=!0,a.showPopover())}}},v=e=>{const t=i.indexOf(r.textContent),n=e.target===s,o=i.length-1;let a;a=n?Math.max(0,t-1):Math.min(o,t+1),a!=t&&(r.textContent=i[a],r.className=`${u} ${p[a].dataset.suite} playing-card`,0==a?s.disabled=!0:a==o&&(c.disabled=!0),n?c.disabled=!1:s.disabled=!1)};Object.hasOwn(HTMLElement.prototype,"popover")&&(p.forEach(e=>{i.push(e.textContent),e.addEventListener("mouseenter",e=>h(e,9)),e.addEventListener("mouseleave",e=>h(e,0)),e.addEventListener("click",m)}),d.addEventListener("click",g),s.addEventListener("click",v),c.addEventListener("click",v),b.addEventListener("click",o=>{(async(o,a,l)=>{const r=o.target,d=t.querySelector(a);e.getComputedStyle(d);const s=t.querySelector(l);let c,i;r.disabled=!0,c=await n(d,{height:d.scrollHeight,width:d.getBoundingClientRect().width}),i=c.toDataURL("image/png"),s.href=i,s.download="pcs_demo_ndo.png",s.textContent=">redownload here<",s.click(),setTimeout(()=>{s.href="",s.download="",s.textContent="",b.disabled=!1},5e3)})(o,".closeup",".export a")}))}}();
//# sourceMappingURL=file:///C:/cygwin64/home/bharr/Bucket/bharrisaplus/github/pcs_web/distribution/demo/main.js.map
